---
import '@fontsource/ubuntu-mono/700.css';
import '@fontsource/neucha';
import { getRelativeLocaleUrl } from 'astro:i18n';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
// Asegurar que i18next está inicializado y obtener el idioma actual
const currentLanguage = getLangFromUrl(new URL(Astro.url.href));
const t = useTranslations(currentLanguage);
---

<main class="font-[Ubuntu_Mono]">
  <!-- Hero Section con gradiente y efecto de fondo -->
  <section class="bg-gradient-to-br from-primary/90 via-primary-light/80 to-special/70 py-10 sm:py-12 md:py-16 px-4 sm:px-6">
    <div class="container mx-auto max-w-5xl">
      <div class="bg-white/10 backdrop-blur-md rounded-xl shadow-xl p-4 sm:p-6 md:p-8 border border-white/20 flex flex-col md:flex-row items-center">
        <div class="w-full md:w-1/3 flex justify-center mb-6 md:mb-0">
          <div class="relative">
            <div class="absolute inset-0 bg-special rounded-full blur-md opacity-30 animate-pulse"></div>
            <img 
              src="/fotoCV.png" 
              alt="Foto de Joel Mesas" 
              class="relative w-36 h-36 sm:w-40 sm:h-40 md:w-56 md:h-56 rounded-full border-4 border-white shadow-xl object-cover"
            />
          </div>
        </div>
        <div class="w-full md:w-2/3 md:pl-10 text-center md:text-left">
          <h1 class="text-2xl sm:text-3xl md:text-5xl font-bold text-secondary mb-3 md:mb-4">Joel Mesas Hontoria</h1>
          <div class="inline-block bg-white/20 px-3 sm:px-4 py-1 sm:py-2 rounded-full backdrop-blur-sm mb-3 md:mb-4">
            <p class="text-lg sm:text-xl text-secondary font-bold"> <span>{t('developerWeb')}</span> Full Stack</p>
          </div>
          <p class="text-secondary text-base sm:text-lg max-w-2xl">
            {t('aboutMe.description')}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Acerca de Mí mejorada -->
  <section class="py-10 sm:py-12 md:py-16 px-4 sm:px-6 bg-white">
    <div class="container mx-auto max-w-4xl">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-secondary text-center mb-3 md:mb-4">
        {t('aboutMe.title')}
      </h2>
      <div class="w-16 sm:w-24 h-1 bg-special mx-auto mb-8 sm:mb-10 md:mb-12"></div>
      
      <div class="bg-gray-50 p-4 sm:p-6 md:p-8 rounded-xl shadow-md border-l-4 border-primary">
        <p class="text-base sm:text-lg text-gray-700 mb-4 sm:mb-6">
          {t('aboutMe.paragraph1')}
        </p>
        <p class="text-base sm:text-lg text-gray-700 mb-4 sm:mb-6">
          {t('aboutMe.paragraph2')}
        </p>
        <p class="text-base sm:text-lg text-gray-700">
          {t('aboutMe.paragraph3')}
        </p>
      </div>
    </div>
  </section>

  <!-- Experiencia Laboral con diseño renovado -->
  <section class="py-10 sm:py-12 md:py-16 px-4 sm:px-6 bg-gray-50">
    <div class="container mx-auto max-w-4xl">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-secondary text-center mb-3 md:mb-4">
        {t('aboutMe.experience')}
      </h2>
      <div class="w-16 sm:w-24 h-1 bg-special mx-auto mb-8 sm:mb-10 md:mb-12"></div>
      
      <div class="space-y-6 sm:space-y-8">
        <!-- Trabajo Strategying -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
          <div class="md:flex">
            <div class="md:w-1/3 bg-cover bg-center h-48 sm:h-56 md:h-auto relative" style="background-image: url('/strategying.jpg');">
              <div class="absolute inset-0 bg-primary/10 md:hidden"></div>
              <div class="absolute bottom-0 left-0 right-0 p-3 sm:p-4 bg-gradient-to-t from-black/80 to-transparent md:hidden">
                <div class="bg-special text-secondary text-xs sm:text-sm font-bold uppercase px-2 sm:px-3 py-1 rounded-full inline-block mb-1 sm:mb-2">{t('aboutMe.currently')}</div>
                <h3 class="text-white text-lg sm:text-xl font-bold">{t('developerWeb')}</h3>
                <p class="text-white/80 text-sm sm:text-base">Strategying</p>
              </div>
            </div>
            <div class="md:w-2/3 p-4 sm:p-6 md:p-8">
              <div class="hidden md:block">
                <div class="flex items-center justify-between mb-2">
                  <h3 class="text-xl sm:text-2xl font-bold text-secondary">{t('developerWeb')}</h3>
                  <div class="bg-special text-secondary text-xs sm:text-sm font-bold uppercase px-2 sm:px-3 py-1 rounded-full">{t('aboutMe.currently')}</div>
                </div>
                <p class="text-primary-light font-semibold text-base sm:text-lg mb-3 sm:mb-4">Strategying</p>
              </div>
              <div class="flex flex-wrap items-center text-gray-600 mb-3 sm:mb-4 text-sm sm:text-base">
                <i class="fa-solid fa-calendar-days mr-2"></i>
                <span>2025</span>
                <span class="mx-2 sm:mx-3">|</span>
                <i class="fa-solid fa-location-dot mr-2"></i>
                <span>Barcelona</span>
              </div>
              <p class="text-gray-700 text-sm sm:text-base">
                {t('aboutMe.experience1')}
              </p>
            </div>
          </div>
        </div>
        
        <!-- Trabajo Las Flandes -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
          <div class="md:flex">
            <div class="md:w-1/3 bg-cover bg-center h-48 sm:h-56 md:h-auto relative" style="background-image: url('/lasFlandes.jpg');">
              <div class="absolute inset-0 bg-primary/10  md:hidden"></div>
              <div class="absolute bottom-0 left-0 right-0 p-3 sm:p-4 bg-gradient-to-t from-black/80 to-transparent md:hidden">
                <h3 class="text-white text-lg sm:text-xl font-bold">{t('aboutMe.title.experience2')}</h3>
                <p class="text-white/80 text-sm sm:text-base">Instituto Las Flandes</p>
              </div>
            </div>
            <div class="md:w-2/3 p-4 sm:p-6 md:p-8">
              <div class="hidden md:block">
                <h3 class="text-xl sm:text-2xl font-bold text-secondary mb-2">{t('aboutMe.title.experience2')}</h3>
                <p class="text-primary-light font-semibold text-base sm:text-lg mb-3 sm:mb-4">Instituto Las Flandes</p>
              </div>
              <div class="flex flex-wrap items-center text-gray-600 mb-3 sm:mb-4 text-sm sm:text-base">
                <i class="fa-solid fa-calendar-days mr-2"></i>
                <span>2022 - 2023</span>
                <span class="mx-2 sm:mx-3">|</span>
                <i class="fa-solid fa-location-dot mr-2"></i>
                <span>Piera, Barcelona</span>
              </div>
              <p class="text-gray-700 text-sm sm:text-base">
                {t('aboutMe.experience2')}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Formación con línea de tiempo vertical -->
  <section class="py-10 sm:py-12 md:py-16 px-4 sm:px-6 bg-white">
    <div class="container mx-auto max-w-4xl">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-secondary text-center mb-3 md:mb-4">
        {t('aboutMe.eduaction')}
      </h2>
      <div class="w-16 sm:w-24 h-1 bg-special mx-auto mb-8 sm:mb-10 md:mb-12"></div>
      
      <!-- Timeline corregido para móvil y desktop -->
      <div class="relative">
        <!-- Línea vertical - ajustada para alinear con las bolitas -->
        <div class="absolute left-4 top-0 sm:left-1/2 sm:transform sm:-translate-x-1/2 h-full w-1 bg-gradient-to-b from-primary via-primary-light to-special"></div>
        
        <!-- Formación 1 - Con alineación corregida en móvil -->
        <div class="relative mb-12 sm:mb-16 pl-12 sm:pl-0">
          <!-- La bolita alineada correctamente -->
          <div class="absolute left-4 top-0 transform -translate-x-1/2 sm:left-1/2 w-6 sm:w-8 h-6 sm:h-8 rounded-full bg-primary border-4 border-white shadow-md z-10"></div>
          
          <div class="sm:flex sm:items-center">
            <!-- En desktop: contenido a la derecha, imagen a la izquierda -->
            <div class="hidden sm:block sm:w-1/2 sm:pr-8 sm:text-right">
              <div class="bg-white p-4 sm:p-6 rounded-lg shadow-md border-t-4 border-primary transform transition-all duration-300 hover:shadow-xl sm:ml-12 mb-6 sm:mb-0">
                <h3 class="text-lg sm:text-xl font-bold text-secondary mb-1 sm:mb-2">{t('aboutMe.eduaction1')}</h3>
                <p class="text-primary-light font-semibold text-sm sm:text-base">Stucom</p>
                <div class="flex items-center text-gray-600 mt-2 sm:justify-end text-sm sm:text-base">
                  <i class="fa-solid fa-calendar-days mr-2"></i>
                  <span>2023 - 2025</span>
                </div>
              </div>
            </div>
            
            <div class="hidden sm:block sm:w-1/2 sm:pl-8">
              <img src="/stucom.png" alt="Stucom" class="rounded-lg shadow-md h-24 sm:h-32 object-cover object-center"/>
            </div>
            
            <!-- Versión móvil ajustada - todo a la derecha de la línea vertical -->
            <div class="sm:hidden mt-0">
              <div class="bg-white p-4 rounded-lg shadow-md border-t-4 border-primary transform transition-all duration-300 hover:shadow-xl">
                <div class="flex items-center mb-2">
                  <img src="/stucom.png" alt="Stucom" class="w-14 h-14 rounded-lg mr-3 object-cover object-center"/>
                  <div>
                    <h3 class="text-lg font-bold text-secondary">{t('aboutMe.eduaction1')}</h3>
                    <p class="text-primary-light font-semibold text-sm">Stucom</p>
                  </div>
                </div>
                <div class="flex items-center text-gray-600 mt-1 text-sm">
                  <i class="fa-solid fa-calendar-days mr-2"></i>
                  <span>2023 - 2025</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Formación 2 - Con alineación corregida en móvil -->
        <div class="relative pl-12 sm:pl-0">
          <!-- La bolita alineada correctamente -->
          <div class="absolute left-4 top-0 transform -translate-x-1/2 sm:left-1/2 w-6 sm:w-8 h-6 sm:h-8 rounded-full bg-special border-4 border-white shadow-md z-10"></div>
          
          <div class="sm:flex sm:items-center">
            <!-- En desktop: imagen a la derecha, contenido a la izquierda -->
            <div class="hidden sm:block sm:w-1/2 sm:pr-8">
              <img src="/guinovarda.jpg" alt="INS Guinovarda" class="rounded-lg shadow-md h-24 sm:h-32 object-cover object-center ml-auto"/>
            </div>
            
            <div class="hidden sm:block sm:w-1/2 sm:pl-8">
              <div class="bg-white p-4 sm:p-6 rounded-lg shadow-md border-t-4 border-special transform transition-all duration-300 hover:shadow-xl sm:mr-12">
                <h3 class="text-lg sm:text-xl font-bold text-secondary mb-1 sm:mb-2">{t('aboutMe.education2')}</h3>
                <p class="text-primary-light font-semibold text-sm sm:text-base">INS Guinovarda</p>
                <div class="flex items-center text-gray-600 mt-2 text-sm sm:text-base">
                  <i class="fa-solid fa-calendar-days mr-2"></i>
                  <span>2021 - 2023</span>
                </div>
              </div>
            </div>
            
            <!-- Versión móvil ajustada - todo a la derecha de la línea vertical -->
            <div class="sm:hidden mt-0">
              <div class="bg-white p-4 rounded-lg shadow-md border-t-4 border-special transform transition-all duration-300 hover:shadow-xl">
                <div class="flex items-center mb-2">
                  <img src="/guinovarda.jpg" alt="INS Guinovarda" class="w-14 h-14 rounded-lg mr-3 object-cover object-center"/>
                  <div>
                    <h3 class="text-lg font-bold text-secondary">{t('aboutMe.education2')}</h3>
                    <p class="text-primary-light font-semibold text-sm">INS Guinovarda</p>
                  </div>
                </div>
                <div class="flex items-center text-gray-600 mt-1 text-sm">
                  <i class="fa-solid fa-calendar-days mr-2"></i>
                  <span>2021 - 2023</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>